<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Document</title>

    <link rel="stylesheet" href="css/style.css">
    <!-- <link rel="stylesheet" href="./social-media-icons.css"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body class="body" onload="calculateGoalPower(), blockAmount()">
    <header>

    </header>

    <section class="container">
        <h1 class="titulo">Tu Calculadora Rollercoin Personal</h1>

        <div class="row">
            <article class="col-md-6">
                <div>
                    <div class="form-group row my-4">
                        <label class="mb-2">Ingrese la potencia de la red para la moneda deseada</label>
                        <div class="col-8">
                            <input type="number" class="form-control" step="any" id="network-power">
                        </div>
                        <div class="col-4">
                            <select class="form-select" name="network-power-prefix" id="network-power-selector">
                                <option value="ghs">GH/s</option>
                                <option value="ths">TH/s</option>
                                <option value="phs">PH/s</option>
                                <option selected value="ehs">EH/s</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group row my-4">
                        <label class="mb-2">Ingrese el poder de su objetivo deseado</label>
                        <div class="col-8">
                            <input type="number" class="form-control" name="goal-power-hash" id="goal-power">
                        </div>
                        <div class="col-4">
                            <select class="form-select" name="goal-power-prefix" id="goal-power-selector">
                                <option value="ghs">GH/s</option>
                                <option selected value="ths">TH/s</option>
                                <option value="phs">PH/s</option>
                                <option value="ehs">EH/s</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group row my-4">
                        <label class="mb-2">Ingrese la recompensa en bloque para la moneda deseada</label>
                        <div class="col-8">
                            <input type="number" class="form-control" name="block-reward" id="block-reward" step="any">
                        </div>
                        <div class="col-4">
                            <select class="form-select" name="block-type" id="block-type" onchange="blockAmount()">
                                <option value=" BTC">Bitcoin (BTC)</option>
                                <option value="DOGE">Doge (DOGE)</option>
                                <option value="ETH">Ethereum (ETH)</option>
                                <option value="BNB">Binance Coin (BNB)</option>
                                <option value="MATIC">Polygon (MATIC)</option>
                                <option value="RLT">RollerToken (RLT)</option>
                            </select>
                        </div>
                    </div>

                    <button class="bubbly-button mt-2" onclick="calculateGoalPower()">Calcular</button>
                </div>
                <div class="my-5 p-3 card shadow recompensa">
                    <p>Recompensa esperada: <span id="exp_reward"></span></p>
                    <p>Recompensa diaria: <span id="daily"></span></p>
                    <p>Recompensa semanal: <span id="weekly"></span></p>
                    <p>Recompensa mensual: <span id="monthly"></span></p>
                </div>
            </article>

            <aside class="col-md-6">
                <table class="table table-dark mx-5 my-3">
                    <thead>
                        <tr class="text-center">
                            <th class="rank">Rank</th>
                            <th class="name">Nombre</th>
                            <th class="symbol">Simbolo</th>
                            <th class="image">Precio</th>
                            <th class="price">Icono</th>
                        </tr>
                    </thead>
                    <tbody id="crytocurrencies">

                    </tbody>
                </table>
                <div id="coins"></div>
            </aside>
        </div>
    </section>

    <footer>
        <div class="footer-content">

            <div class="social-menu">
                <ul>
                    <li><a href="#" target="blank"><i class="fab fa-tiktok"></i></i></a></li>
                    <li><a href="#" target="blank"><i class="fab fa-twitch"></i></a></li>
                    <li><a href="#" target="blank"><i class="fab fa-instagram"></i></a></li>
                    <li><a href="#" target="blank"><i class="fab fa-facebook-f"></i></a></li>
                    <li><a href="#" target="blank"><i class="fab fa-youtube"></i></a></li>
                </ul>
            </div>

            <div class="footer-bottom">
                <span>copyright &copy; 2021 <b> RolerCoin </b></span>
            </div>
        </div>
    </footer>

    <!--Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Calculator.js -->
    <script src="./js/calculator.js"></script>
    <!--social media -->
    <script src="https://kit.fontawesome.com/66aa7c98b3.js" type="text/javascript" crossorigin="anonymous"></script>

    <!-- Animaci贸n del bot贸n -->
    <script>
        var animateButton = function (e) {
            e.preventDefault;
            //reset animation
            e.target.classList.remove("animate");

            e.target.classList.add("animate");
            setTimeout(function () {
                e.target.classList.remove("animate");
            }, 700);
        };

        var bubblyButtons = document.getElementsByClassName("bubbly-button");

        for (var i = 0; i < bubblyButtons.length; i++) {
            bubblyButtons[i].addEventListener("click", animateButton, false);
        }   
    </script>
    <!-- fin animaci贸n del bot贸n -->

    <!-- coingecko -->
    <script>
        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", "https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin%2C%20ethereum%2C%20dogecoin%2C%20matic-network%2C%20binancecoin&order=market_cap_desc&per_page=100&page=1&sparkline=false", false)
        xhReq.send(null);
        var data = JSON.parse(xhReq.responseText);

        console.log(data);

        //Inicializar
        var crytocurrencies;
        var timerId;
        var updateInterval;

        function resetBoard() {
            var $list = $("#crytocurrencies")
            $list.find(".crytocurrency").remove();
            crytocurrencies = [];

            for (let i = 0; i < 5; i++) {
                crytocurrencies.push({
                    name: data[i].name,
                    symbol: data[i].symbol,
                    price: data[i].current_price,
                    image: data[i].image,
                })
            }
            for (var i = 0; i < crytocurrencies.length; i++) {
                var $item = $(
                    "<tr class='text-center'>" +
                    "<td>" + (i + 1) + "</td>" +
                    "<td class='name'>" + crytocurrencies[i].name + "</td>" +
                    "<td class='symbol'>" + crytocurrencies[i].symbol + "</td>" +
                    "<td>$" + crytocurrencies[i].price + "</td>" +
                    "<td class='image'>" + "<img class='img__crypto' src='" + crytocurrencies[i].image + "'/>" + "</td>" +
                    "</tr>"
                );
                crytocurrencies[i].$item = $item;
                $list.append($item);
            }
        }
        resetBoard();
    </script>
    <!-- fin coingecko -->
</body>

</html>